% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/AnalysisConfiguration.R
\name{hierarchy_counts_sample}
\alias{hierarchy_counts_sample}
\title{Count distinct elements for each level of hierarchy per sample}
\usage{
hierarchy_counts_sample(pdata, configuration, nr_children = 1)
}
\arguments{
\item{pdata}{data.frame}

\item{config}{\code{\link{AnalysisConfiguration}}}
}
\description{
Count distinct elements for each level of hierarchy per sample
}
\examples{

bb <- prolfqua::sim_lfq_data_peptide_config()

config <- bb$config
data <- bb$data
res <- hierarchy_counts_sample(data, config, nr_children = 1)
res()
x <- res("long")
res("plot")
# filters on peptide level
res <- hierarchy_counts_sample(data, config, nr_children = 2)
res()
x2 <- res("long")
res("plot")
# filters on protein level based on peptide count
bb <- prolfqua::sim_lfq_data_protein_config()
res <- hierarchy_counts_sample(bb$data, bb$config, nr_children = 2)
x1 <- res()
res("long")
res("plot")
res <- hierarchy_counts_sample(bb$data, bb$config, nr_children = 1)
x2 <- res()
res("long")
res("plot")
x1$nr_children <- 2
x2$nr_children <- 1
xl <- dplyr::bind_rows(x1, x2)




xl$nr_children |> table()
nudgeval <-  -mean(xl$protein_Id) * 0.05
ggplot(xl, aes(x = sampleName, y = protein_Id, fill = as.character(nr_children)) ) +
 geom_bar(stat = "identity", position = position_dodge())

}
\seealso{
Other summary: 
\code{\link{INTERNAL_FUNCTIONS_BY_FAMILY}},
\code{\link{hierarchy_counts}()},
\code{\link{nr_B_in_A_per_sample}()},
\code{\link{summarize_hierarchy}()}
}
\concept{summary}
\keyword{internal}
