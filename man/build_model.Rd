% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_R6Model.R
\name{build_model}
\alias{build_model}
\title{Build protein models from data}
\usage{
build_model(
  data,
  model_strategy,
  subject_Id = if ("LFQData" \%in\% class(data)) {
     data$subject_Id()
 } else {
    
    "protein_Id"
 },
  modelName = model_strategy$model_name
)
}
\arguments{
\item{data}{data - a data frame}

\item{subject_Id}{grouping variable}

\item{modelName}{model name}

\item{modelFunction}{model function}
}
\value{
a object of class \code{\link{Model}}
}
\description{
Build protein models from data
}
\examples{
D <- prolfqua::sim_lfq_data_peptide_config(Nprot = 20, weight_missing = 0.1)
D$data$abundance |> is.na() |> sum()
D <- prolfqua::sim_lfq_data_peptide_config(Nprot = 20, weight_missing = 0.1, seed =3)
D$data$abundance |> is.na() |> sum()
modelName <- "f_condtion_r_peptide"
formula_randomPeptide <-
  strategy_lmer("abundance  ~ group_ + (1 | peptide_Id) + (1 | sampleName)",
   model_name = modelName)


mod <- prolfqua::build_model(
 D$data,
 formula_randomPeptide,
 modelName = modelName,
 subject_Id = D$config$table$hierarchy_keys_depth())
aovtable <- mod$get_anova()

mod <- prolfqua::build_model(
 LFQData$new(D$data, D$config),
 formula_randomPeptide,
 modelName = modelName)
model_summary(mod)


}
\seealso{
\code{\link{model_analyse}}, \code{\link{strategy_lmer}} \code{\link{strategy_lm}}

Other modelling: 
\code{\link{Contrasts}},
\code{\link{ContrastsMissing}},
\code{\link{ContrastsModerated}},
\code{\link{ContrastsPlotter}},
\code{\link{ContrastsProDA}},
\code{\link{ContrastsROPECA}},
\code{\link{ContrastsTable}},
\code{\link{INTERNAL_FUNCTIONS_BY_FAMILY}},
\code{\link{LR_test}()},
\code{\link{Model}},
\code{\link{contrasts_fisher_exact}()},
\code{\link{get_anova_df}()},
\code{\link{get_complete_model_fit}()},
\code{\link{get_imputed_contrasts}()},
\code{\link{get_p_values_pbeta}()},
\code{\link{isSingular_lm}()},
\code{\link{linfct_all_possible_contrasts}()},
\code{\link{linfct_factors_contrasts}()},
\code{\link{linfct_from_model}()},
\code{\link{linfct_matrix_contrasts}()},
\code{\link{merge_contrasts_results}()},
\code{\link{model_analyse}()},
\code{\link{model_summary}()},
\code{\link{moderated_p_limma}()},
\code{\link{moderated_p_limma_long}()},
\code{\link{my_contest}()},
\code{\link{my_contrast}()},
\code{\link{my_contrast_V1}()},
\code{\link{my_contrast_V2}()},
\code{\link{my_glht}()},
\code{\link{pivot_model_contrasts_2_Wide}()},
\code{\link{plot_lmer_model_and_data}()},
\code{\link{plot_lmer_peptide_noRandom}()},
\code{\link{plot_lmer_peptide_predictions}()},
\code{\link{plot_lmer_predicted_interactions}()},
\code{\link{strategy_lmer}()},
\code{\link{summary_ROPECA_median_p.scaled}()}
}
\concept{modelling}
