% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_missigness.R
\name{interaction_missing_stats}
\alias{interaction_missing_stats}
\title{compute missingness statistics per hierarchy and factor level}
\usage{
interaction_missing_stats(
  pdata,
  config,
  factors = config$table$factor_keys_depth(),
  hierarchy = config$table$hierarchy_keys(),
  workIntensity = config$table$get_response()
)
}
\arguments{
\item{pdata}{data.frame}

\item{config}{AnalysisConfiguration}

\item{factors}{factor to include (default up to factor depth)}

\item{hierarchy}{hierarchy to include (default up to hierarchy depth)}

\item{workIntensity}{work intensity column}
}
\description{
compute missingness statistics per hierarchy and factor level
}
\examples{


bb <- prolfqua_data("data_ionstar")$filtered()
stopifnot(nrow(bb$data) == 25780)
stopifnot(nrow(bb$data) == 25780)
configur <- old2new(bb$config)
data <- bb$data

configur$parameter$qVal_individual_threshold <- 0.01
xx <- prolfqua::remove_large_QValues(
  data,
  configur
)
xx <- complete_cases(xx, configur)
x <- interaction_missing_stats(xx, configur)$data |> dplyr::arrange(desc(nrNAs))

stopifnot(nrow(x) == 5540)
stopifnot(sum(is.na(x$meanArea)) == 206)
stopifnot(length(unique(x$protein_Id)) == 162)

tmp <- interaction_missing_stats(xx, configur,
  factors = character(),
  hierarchy = configur$table$hierarchy_keys()[1]
)$data
stopifnot(nrow(tmp) == 162)

tmp <- interaction_missing_stats(xx, configur,
  hierarchy = configur$table$hierarchy_keys()[1]
)$data
stopifnot(sum(is.na(tmp$nrMeasured)) == 0)
tmp

interaction_missing_stats(xx, configur, factors = NULL)

}
\keyword{internal}
