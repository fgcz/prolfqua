% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_R6_TransitionCorrelations.R
\name{filter_factor_levels_by_missing}
\alias{filter_factor_levels_by_missing}
\title{Removes measurments with more than some percentage of not smissing values}
\usage{
filter_factor_levels_by_missing(pdata, config, percent = 60)
}
\arguments{
\item{pdata}{data.frame}

\item{config}{AnalysisConfiguration}

\item{percent}{percent of missing values}
}
\value{
data.frame
}
\description{
Removes measurments with more than some percentage of not smissing values
}
\examples{


bb <- prolfqua_data("data_spectronautDIA250_A")
config <- bb$config_f()
analysis <- bb$analysis(bb$data, bb$config_f())
config$parameter$min_nr_of_notNA <- 20
data <- analysis
data <- remove_large_QValues(data, config)
hc <- hierarchy_counts(data, config)
res <- filter_factor_levels_by_missing(data, config, percent = 80)
hc80 <- hierarchy_counts(res, config)
res <- filter_factor_levels_by_missing(data, config, percent = 60)
hierarchy_counts(res, config)
hc60 <- hierarchy_counts(res, config)
stopifnot(all(hc60 >= hc80)) # since 80\% missing is more stringent than 60\%
stopifnot(all(hc >= hc60))
summarize_hierarchy(res, config) |>
  dplyr::filter(!!rlang::sym(paste0(config$table$hierarchy_keys()[2], "_n")) > 1)

}
\keyword{internal}
