% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_benchmark.R
\name{Benchmark}
\alias{Benchmark}
\title{Benchmark R6 class}
\description{
Benchmark R6 class

Benchmark R6 class
}
\examples{
library(ggpubr)
library(prolfqua)
ttd <- ionstar_bench_preprocess(prolfqua::data_benchmarkExample)
medpol_benchmark <- make_benchmark(ttd$data,
                                   model_description = "med. polish and lm. density",
                                   model_name = "prot_med_lm"
)
medpol_benchmark$plot_score_distribution()
#Benchmark$debug("pAUC_summaries")
brms_benchmark <- make_benchmark(
  ttd$data,
  toscale =  c("moderated.p.value", "moderated.p.value.adjusted"),
  benchmark = list(list(sc = "estimate", desc = TRUE),
                   list(sc = "statistic", desc = TRUE),
                   list(sc = "scaled.moderated.p.value", desc = TRUE),
                   list(sc = "scaled.moderated.p.value.adjusted", desc = TRUE)
  ),
  FDRvsFDP =
    list(list(sc = "moderated.p.value", desc = FALSE),
         list(sc = "moderated.p.value.adjusted", desc = FALSE)),
  model_description = "protein level measurments, lm model",
  model_name = "prot_lm"
)
bb <- brms_benchmark$pAUC_summaries()
brms_benchmark$complete()
brms_benchmark$plot_score_distribution()
bb <- brms_benchmark$get_confusion()
bb$contrast \%>\% unique()
xb <- dplyr::filter(bb, contrast ==  "dilution_(4.5/3)_1.5")
max(xb$TPR)
max(xb$TP_hits)/ max(xb$T_)
brms_benchmark$get_confusion_summaries()
brms_benchmark$plot_ROC(xlim = 0.1)
brms_benchmark$plot_FDPvsTPR()
brms_benchmark$plot_FDRvsFDP()
brms_benchmark$plot_scatter()
head(bb)

}
\seealso{
Other benchmarking: 
\code{\link{INTERNAL_FUNCTIONS_BY_FAMILY}},
\code{\link{ionstar_bench_preprocess}()},
\code{\link{ms_bench_auc}()}
}
\concept{benchmarking}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{.data}}{data.frame}

\item{\code{is_complete}}{todo}

\item{\code{contrast}}{column name}

\item{\code{toscale}}{which columns to scale}

\item{\code{benchmark}}{todo}

\item{\code{model_description}}{describe model}

\item{\code{model_name}}{model description}

\item{\code{hierarchy}}{todo}

\item{\code{smc}}{summarize missing contrasts}

\item{\code{confusion}}{todo}

\item{\code{species}}{todo}

\item{\code{FDRvsFDP}}{todo}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-new}{\code{Benchmark$new()}}
\item \href{#method-data}{\code{Benchmark$data()}}
\item \href{#method-complete}{\code{Benchmark$complete()}}
\item \href{#method-get_confusion}{\code{Benchmark$get_confusion()}}
\item \href{#method-get_confusion_summaries}{\code{Benchmark$get_confusion_summaries()}}
\item \href{#method-plot_FDPvsTPR}{\code{Benchmark$plot_FDPvsTPR()}}
\item \href{#method-plot_ROC}{\code{Benchmark$plot_ROC()}}
\item \href{#method-pAUC_summaries}{\code{Benchmark$pAUC_summaries()}}
\item \href{#method-get_FDRvsFDP}{\code{Benchmark$get_FDRvsFDP()}}
\item \href{#method-plot_FDRvsFDP}{\code{Benchmark$plot_FDRvsFDP()}}
\item \href{#method-plot_score_distribution}{\code{Benchmark$plot_score_distribution()}}
\item \href{#method-plot_scatter}{\code{Benchmark$plot_scatter()}}
\item \href{#method-clone}{\code{Benchmark$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-new"></a>}}
\if{latex}{\out{\hypertarget{method-new}{}}}
\subsection{Method \code{new()}}{
create Benchmark
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$new(
  data,
  toscale = c("p.value"),
  benchmark = list(list(sc = "estimate", desc = TRUE), list(sc = "statistic", desc =
    TRUE), list(sc = "scaled.p.value", desc = TRUE)),
  FDRvsFDP = list(list(sc = "FDR", desc = FALSE)),
  model_description = "protein level measurments, linear model",
  model_name = "medpolish_lm",
  contrast = "contrast",
  species = "species",
  hierarchy = c("protein_Id")
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{data}}{data.frame}

\item{\code{toscale}}{columns ot scale}

\item{\code{benchmark}}{columns to benchmark}

\item{\code{FDRvsFDP}}{score for which to generate FDR vs FDP}

\item{\code{model_description}}{describe model}

\item{\code{model_name}}{model name}

\item{\code{contrast}}{contrast}

\item{\code{species}}{species (todo rename)}

\item{\code{hierarchy}}{e.g. protein_Id}

\item{\code{columns}}{to create FPR vs FDP analysis for}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-data"></a>}}
\if{latex}{\out{\hypertarget{method-data}{}}}
\subsection{Method \code{data()}}{
get data
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$data()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
data.frame
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-complete"></a>}}
\if{latex}{\out{\hypertarget{method-complete}{}}}
\subsection{Method \code{complete()}}{
set or get complete
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$complete(value)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{value}}{TRUE if data should be complete (no missing contrasts)}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-get_confusion"></a>}}
\if{latex}{\out{\hypertarget{method-get_confusion}{}}}
\subsection{Method \code{get_confusion()}}{
get confusion data
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$get_confusion(arrange)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{arrange}}{todo}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-get_confusion_summaries"></a>}}
\if{latex}{\out{\hypertarget{method-get_confusion_summaries}{}}}
\subsection{Method \code{get_confusion_summaries()}}{
get FDR summaries
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$get_confusion_summaries()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-plot_FDPvsTPR"></a>}}
\if{latex}{\out{\hypertarget{method-plot_FDPvsTPR}{}}}
\subsection{Method \code{plot_FDPvsTPR()}}{
plot FDP vs TPR
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$plot_FDPvsTPR(xlim = 0.5)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{xlim}}{limit x axis}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-plot_ROC"></a>}}
\if{latex}{\out{\hypertarget{method-plot_ROC}{}}}
\subsection{Method \code{plot_ROC()}}{
plot FDR summaries
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$plot_ROC(xlim = 0.5)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{xlim}}{limit x axis}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
ggplot
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-pAUC_summaries"></a>}}
\if{latex}{\out{\hypertarget{method-pAUC_summaries}{}}}
\subsection{Method \code{pAUC_summaries()}}{
AUC summaries
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$pAUC_summaries()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-get_FDRvsFDP"></a>}}
\if{latex}{\out{\hypertarget{method-get_FDRvsFDP}{}}}
\subsection{Method \code{get_FDRvsFDP()}}{
FDR vs FDP data
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$get_FDRvsFDP()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-plot_FDRvsFDP"></a>}}
\if{latex}{\out{\hypertarget{method-plot_FDRvsFDP}{}}}
\subsection{Method \code{plot_FDRvsFDP()}}{
plot FDR vs FDP data
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$plot_FDRvsFDP()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
ggplot
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-plot_score_distribution"></a>}}
\if{latex}{\out{\hypertarget{method-plot_score_distribution}{}}}
\subsection{Method \code{plot_score_distribution()}}{
plot distributions of scores
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$plot_score_distribution(
  score = list(list(score = "estimate", xlim = c(-1, 2)), list(score = "statistic",
    xlim = c(-3, 10)))
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{score}}{the distribution of which scores to plot (list)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
ggplot
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-plot_scatter"></a>}}
\if{latex}{\out{\hypertarget{method-plot_scatter}{}}}
\subsection{Method \code{plot_scatter()}}{
plot intensity vs scores
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$plot_scatter(
  score = list(list(score = "estimate", ylim = c(-1, 2)), list(score = "statistic",
    ylim = c(-3, 10)))
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{score}}{the distribution of which scores to plot (list)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
ggplot
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-clone"></a>}}
\if{latex}{\out{\hypertarget{method-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Benchmark$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
