% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidyMS_aggregation.R
\name{intensity_summary_by_hkeys}
\alias{intensity_summary_by_hkeys}
\title{Summarizes the intensities within hierarchy}
\usage{
intensity_summary_by_hkeys(data, config, func)
}
\arguments{
\item{func}{- a function working on a matrix of intensities for each protein.}
}
\value{
retuns function object
}
\description{
Summarizes the intensities within hierarchy
}
\examples{


bb <- prolfqua_data('data_ionstar')$filtered()
stopifnot(nrow(bb$data) == 25780)
config <- old2new(bb$config$clone(deep = TRUE))
data <- bb$data
x <- intensity_summary_by_hkeys(data, config, func = medpolish_estimate)

res <- x("unnest")
res$data |> dim()

config <- old2new(bb$config$clone(deep = TRUE))
config$table$hierarchyDepth <- 1

x <- intensity_summary_by_hkeys(data, config, func = medpolish_estimate)
dd <- x(value = "plot")
stopifnot(nrow(dd) == length(unique(bb$data$protein_Id)))

dd$plot[[2]]

# example how to add peptide count information
tmp <- summarize_hierarchy(data, config)
tmp <- dplyr::inner_join(tmp, x("wide")$data, by = config$table$hierarchy_keys_depth())

}
\seealso{
Other aggregation: 
\code{\link{INTERNAL_FUNCTIONS_BY_FAMILY}},
\code{\link{aggregate_intensity_topN}()},
\code{\link{estimate_intensity}()},
\code{\link{medpolish_estimate}()},
\code{\link{medpolish_estimate_df}()},
\code{\link{medpolish_estimate_dfconfig}()},
\code{\link{medpolish_protein_estimates}()},
\code{\link{plot_estimate}()},
\code{\link{plot_hierarchies_add_quantline}()},
\code{\link{plot_hierarchies_line}()},
\code{\link{plot_hierarchies_line_df}()},
\code{\link{rlm_estimate}()},
\code{\link{rlm_estimate_dfconfig}()}

Other deprecated: 
\code{\link{INTERNAL_FUNCTIONS_BY_FAMILY}},
\code{\link{medpolish_protein_estimates}()}
}
\concept{aggregation}
\concept{deprecated}
\keyword{internal}
