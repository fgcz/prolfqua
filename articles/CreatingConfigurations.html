<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating prolfqua Configurations • prolfqua</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Creating prolfqua Configurations">
<meta property="og:description" content="prolfqua">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prolfqua</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Comparing2Groups.html">Comparing Two Groups with prolfqua</a>
    </li>
    <li>
      <a href="../articles/CreatingConfigurations.html">Creating prolfqua Configurations</a>
    </li>
    <li>
      <a href="../articles/Modelling2Factors.html">Modelling dataset with two Factors</a>
    </li>
    <li>
      <a href="../articles/QCandSampleSize.html">Quality Control &amp; Sample Size Estimation</a>
    </li>
    <li>
      <a href="../articles/QualityControlAndSampleSizeEstimation.html">QC and Sample Size Estimation</a>
    </li>
    <li>
      <a href="../articles/SimulateData.html">Simulate Peptide level Data</a>
    </li>
    <li>
      <a href="../articles/Supplement_TidyAnalysis_HL_Skyline.html">Supplement - Data preprocessing of SRM Heavy Light data</a>
    </li>
    <li>
      <a href="../articles/Supplement_TidyAnalysis_Skyline_PRM.html">Supplement - Data preprocessing for PRM</a>
    </li>
    <li>
      <a href="../articles/Supplement_TidyCorrelationAnalysis.html">Supplement - Filter precursors or fragments based on correlation</a>
    </li>
    <li>
      <a href="../articles/Supplement_srm_summary.html">Supplement - Summarize SRM Peptide Level Measurements</a>
    </li>
    <li>
      <a href="../articles/Supplement_srm_summary_HL.html">Supplement - Summarize heavy light Peptide Level Measurements</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/wolski/prolfqua/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Creating prolfqua Configurations</h1>
                        <h4 data-toc-skip class="author">Witold E.
Wolski</h4>
            
            <h4 data-toc-skip class="date">2024-03-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/wolski/prolfqua/blob/HEAD/vignettes/CreatingConfigurations.Rmd" class="external-link"><code>vignettes/CreatingConfigurations.Rmd</code></a></small>
      <div class="hidden name"><code>CreatingConfigurations.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="creating-a-configuration-for-a-file-in-wide-data-format">Creating a configuration for a file in wide data format<a class="anchor" aria-label="anchor" href="#creating-a-configuration-for-a-file-in-wide-data-format"></a>
</h2>
<p>Frequently, the data are available in tables, where the rows
represent proteins, and the columns do represent samples. The example
shows such a table. The first column contains, the protein id, while the
other columns store the intensities for sample A, B, C.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>protein_Id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tr|A|HUMAN"</span>,<span class="st">"tr|B|HUMAN"</span>,<span class="st">"tr|C|HUMAN"</span>,<span class="st">"tr|D|HUMAN"</span><span class="op">)</span>,</span>
<span>                 Intensity_A <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">10000</span>,<span class="fl">10</span>,<span class="cn">NA</span><span class="op">)</span>,</span>
<span>                 Intensity_B <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">9000</span>, <span class="fl">20</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>                 Intensity_C <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>,<span class="fl">8000</span>,<span class="cn">NA</span>,<span class="fl">150</span><span class="op">)</span>,</span>
<span>                 Intensity_D <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">130</span>,<span class="fl">11000</span>, <span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df</span></span></code></pre></div>
<pre><code><span><span class="co">##   protein_Id Intensity_A Intensity_B Intensity_C Intensity_D</span></span>
<span><span class="co">## 1 tr|A|HUMAN         100          NA         200         130</span></span>
<span><span class="co">## 2 tr|B|HUMAN       10000        9000        8000       11000</span></span>
<span><span class="co">## 3 tr|C|HUMAN          10          20          NA          50</span></span>
<span><span class="co">## 4 tr|D|HUMAN          NA         100         150          50</span></span></code></pre>
<p>This table can be converted into a table in the long format
using:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">table_long</span> <span class="op">&lt;-</span> <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"Intensity_"</span><span class="op">)</span>,names_to <span class="op">=</span> <span class="st">"Sample"</span>, values_to <span class="op">=</span> <span class="st">"Intensity"</span><span class="op">)</span></span>
<span><span class="va">table_long</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 16 × 3</span></span></span>
<span><span class="co">##    protein_Id Sample      Intensity</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> tr|A|HUMAN Intensity_A       100</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> tr|A|HUMAN Intensity_B        <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> tr|A|HUMAN Intensity_C       200</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> tr|A|HUMAN Intensity_D       130</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> tr|B|HUMAN Intensity_A     <span style="text-decoration: underline;">10</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> tr|B|HUMAN Intensity_B      <span style="text-decoration: underline;">9</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> tr|B|HUMAN Intensity_C      <span style="text-decoration: underline;">8</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> tr|B|HUMAN Intensity_D     <span style="text-decoration: underline;">11</span>000</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> tr|C|HUMAN Intensity_A        10</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> tr|C|HUMAN Intensity_B        20</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> tr|C|HUMAN Intensity_C        <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> tr|C|HUMAN Intensity_D        50</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> tr|D|HUMAN Intensity_A        <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> tr|D|HUMAN Intensity_B       100</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> tr|D|HUMAN Intensity_C       150</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span> tr|D|HUMAN Intensity_D        50</span></span></code></pre>
<p>In addition you will need a table with the Sample annotations. In
this example with have two groups A, B.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">annot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Sample <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intensity_A"</span>, <span class="st">"Intensity_B"</span>, <span class="st">"Intensity_C"</span>, <span class="st">"Intensity_D"</span><span class="op">)</span>, Group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now you can annotate the samples in the table with the
Intensities.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">table_long</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">annot</span>, <span class="va">table_long</span><span class="op">)</span></span></code></pre></div>
<p>We create a <code>AnalysisTableAnnotation</code> and start annotating
the data frame, that is specifying which column contains wich type of
information.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atable</span> <span class="op">&lt;-</span> <span class="fu">prolfqua</span><span class="fu">::</span><span class="va"><a href="../reference/AnalysisTableAnnotation.html">AnalysisTableAnnotation</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">atable</span><span class="op">$</span><span class="va">fileName</span> <span class="op">=</span> <span class="st">"Sample"</span></span>
<span><span class="va">atable</span><span class="op">$</span><span class="va">workIntensity</span> <span class="op">=</span> <span class="st">"Intensity"</span></span></code></pre></div>
<p>The columns identifying the measured features, which are proteins,
peptides or precursors, are described using the named list
<code>hierarchy</code>. The values of the list are the column names,
while the names are arbitrary as long as they are valid R column names.
Here we use the same names as the column names.</p>
<p>The list <code>factors</code>, is used to point to the columns
containing the factors of your analysis (Group).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atable</span><span class="op">$</span><span class="va">hierarchy</span><span class="op">[[</span><span class="st">"protein_Id"</span><span class="op">]</span><span class="op">]</span>    <span class="op">&lt;-</span>  <span class="st">"protein_Id"</span></span>
<span><span class="va">atable</span><span class="op">$</span><span class="va">factors</span><span class="op">[[</span><span class="st">"Group"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Group"</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu">prolfqua</span><span class="fu">::</span><span class="va"><a href="../reference/AnalysisConfiguration.html">AnalysisConfiguration</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">atable</span><span class="op">)</span></span>
<span><span class="va">analysis_data</span> <span class="op">&lt;-</span> <span class="fu">prolfqua</span><span class="fu">::</span><span class="fu"><a href="../reference/setup_analysis.html">setup_analysis</a></span><span class="op">(</span><span class="va">table_long</span>, <span class="va">config</span><span class="op">)</span></span>
<span><span class="va">lfqdata</span> <span class="op">&lt;-</span> <span class="fu">prolfqua</span><span class="fu">::</span><span class="va"><a href="../reference/LFQData.html">LFQData</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">analysis_data</span>, <span class="va">config</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lfqdata</span><span class="op">$</span><span class="fu">hierarchy_counts</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">##   isotopeLabel protein_Id</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> light                 4</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">smrz</span> <span class="op">&lt;-</span> <span class="va">lfqdata</span><span class="op">$</span><span class="fu">get_Summariser</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">smrz</span><span class="op">$</span><span class="fu">plot_hierarchy_counts_sample</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="CreatingConfigurations_files/figure-html/basicPlotting-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="creating-a-configuration-for-a-file-in-long-data-format-">Creating a configuration for a file in long data format.<a class="anchor" aria-label="anchor" href="#creating-a-configuration-for-a-file-in-long-data-format-"></a>
</h2>
<p>Given for example a Peptide Quantification Report generated by
Spectronaut (a table in long format), we demonstrate how to create a
configuration that is required to use it with prolfqua. To do this, an
<code>AnalysisTableAnnotation</code> has to be configured and some
fields (fileName, hierarchy, factors, workingIntensity) need to defined.
The configuration object describes the columns in the long table so that
prolfqua functions know which columns to use.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">conflicted</span><span class="fu">::</span><span class="fu"><a href="https://conflicted.r-lib.org/reference/conflict_prefer.html" class="external-link">conflict_prefer</a></span><span class="op">(</span><span class="st">"rename"</span>, <span class="st">"dplyr"</span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu">prolfqua</span><span class="fu">:::</span><span class="fu">.find.package.file</span><span class="op">(</span><span class="st">"prolfqua"</span>,<span class="st">"samples/spectronaut_PEPTIDE.xls"</span><span class="op">)</span></span>
<span><span class="va">xx</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_tsv</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span>
<span><span class="va">xx</span> <span class="op">&lt;-</span> <span class="va">xx</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>EG.TotalQuantity <span class="op">=</span> <span class="st">"EG.TotalQuantity (Settings)"</span><span class="op">)</span></span>
<span><span class="va">xx</span><span class="op">$</span><span class="va">Isotope.Label</span> <span class="op">&lt;-</span> <span class="st">"light"</span></span></code></pre></div>
<p>We create a Table annotation object and start annotating the data we
read. Since in this example we eventually want to do more filtering on
data quality we will also define the ident_qValue in this
<code>AnalysisTableAnnotation</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atable</span> <span class="op">&lt;-</span> <span class="fu">prolfqua</span><span class="fu">::</span><span class="va"><a href="../reference/AnalysisTableAnnotation.html">AnalysisTableAnnotation</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">atable</span><span class="op">$</span><span class="va">fileName</span> <span class="op">=</span> <span class="st">"R.FileName"</span></span>
<span><span class="va">atable</span><span class="op">$</span><span class="va">ident_qValue</span> <span class="op">=</span> <span class="st">"EG.Qvalue"</span></span>
<span><span class="va">atable</span><span class="op">$</span><span class="va">workIntensity</span> <span class="op">=</span> <span class="st">"EG.TotalQuantity"</span></span>
<span><span class="va">atable</span><span class="op">$</span><span class="va">isotopeLabel</span> <span class="op">=</span> <span class="st">"Isotope.Label"</span></span></code></pre></div>
<p>The columns identifying the measured features, which are proteins,
peptides or precursors, are described using the named list
<code>hierarchy</code>. The values of the list are the column names,
while the names are arbitrary as long as they are valid R column names.
Here we use the same names as the column names.</p>
<p>The list factors, is used to point to the columns containing the
factors of your analysis (group). Here, we rename the column
“R.Condition” to “Marker”. In figures and legends generated by prolfqua
the name “Marker” will then be used and not “R.Condition”. The
data.frame can also contain more than one factor.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">atable</span><span class="op">$</span><span class="va">hierarchy</span><span class="op">[[</span><span class="st">"PG.ProteinAccessions"</span><span class="op">]</span><span class="op">]</span>    <span class="op">&lt;-</span>  <span class="st">"PG.ProteinAccessions"</span></span>
<span><span class="va">atable</span><span class="op">$</span><span class="va">hierarchy</span><span class="op">[[</span><span class="st">"EG.PrecursorId"</span><span class="op">]</span><span class="op">]</span>    <span class="op">&lt;-</span>  <span class="st">"EG.PrecursorId"</span></span>
<span><span class="va">atable</span><span class="op">$</span><span class="va">factors</span><span class="op">[[</span><span class="st">"Marker"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"R.Condition"</span></span></code></pre></div>
<p>Lastly, we create an Analysis parameter object, and the Analysis
Configuration. The function <code>setup_analysis</code>, creates from
data frame in long format a data.frame compatible with your
configuration. We can now run most of the function in the package using
the data and configuration.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu">prolfqua</span><span class="fu">::</span><span class="va"><a href="../reference/AnalysisConfiguration.html">AnalysisConfiguration</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">atable</span><span class="op">)</span></span>
<span><span class="va">analysis_data</span> <span class="op">&lt;-</span> <span class="fu">prolfqua</span><span class="fu">::</span><span class="fu"><a href="../reference/setup_analysis.html">setup_analysis</a></span><span class="op">(</span><span class="va">xx</span>, <span class="va">config</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">prolfqua</span><span class="fu">::</span><span class="fu"><a href="../reference/summarize_hierarchy.html">summarize_hierarchy</a></span><span class="op">(</span><span class="va">analysis_data</span>, <span class="va">config</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">##   PG.ProteinAccessions Isotope.Label_n EG.PrecursorId_n</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> H0YD97;O00330                      1                4</span></span></code></pre>
<p>Now the analysis_data object is ready to generate the
<code>LFQData</code> class instance. This object is the start for
further analysis.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lfqdata</span> <span class="op">&lt;-</span> <span class="fu">prolfqua</span><span class="fu">::</span><span class="va"><a href="../reference/LFQData.html">LFQData</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">analysis_data</span>, <span class="va">config</span><span class="op">)</span></span></code></pre></div>
<p>With this, it is possible for example to use the
<code>get_Summariser</code> function to visualize and summarise the data
efficiently.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">smrz</span> <span class="op">&lt;-</span> <span class="va">lfqdata</span><span class="op">$</span><span class="fu">get_Summariser</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">smrz</span><span class="op">$</span><span class="fu">plot_hierarchy_counts_sample</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: 5">
<img src="CreatingConfigurations_files/figure-html/doBarPlotPerSample-1.png" alt="Shown are how many precursors or proteins are found in each sample" width="700"><p class="caption">
Shown are how many precursors or proteins are found in each sample
</p>
</div>
<p>The <code>prolfqua</code> package is described in <span class="citation">(Wolski et al. 2022)</span>.</p>
</div>
<div class="section level2">
<h2 id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.3.2 (2023-10-31)</span></span>
<span><span class="co">## Platform: aarch64-apple-darwin20 (64-bit)</span></span>
<span><span class="co">## Running under: macOS Sonoma 14.2.1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib </span></span>
<span><span class="co">## LAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: Europe/Zurich</span></span>
<span><span class="co">## tzcode source: internal</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] gtable_0.3.4       xfun_0.42          bslib_0.6.1        ggplot2_3.5.0     </span></span>
<span><span class="co">##  [5] htmlwidgets_1.6.4  ggrepel_0.9.5      tzdb_0.4.0         vctrs_0.6.5       </span></span>
<span><span class="co">##  [9] tools_4.3.2        generics_0.1.3     parallel_4.3.2     tibble_3.2.1      </span></span>
<span><span class="co">## [13] fansi_1.0.6        highr_0.10         pkgconfig_2.0.3    pheatmap_1.0.12   </span></span>
<span><span class="co">## [17] data.table_1.15.2  RColorBrewer_1.1-3 desc_1.4.3         lifecycle_1.0.4   </span></span>
<span><span class="co">## [21] prolfqua_1.1.6     compiler_4.3.2     farver_2.1.1       stringr_1.5.1     </span></span>
<span><span class="co">## [25] textshaping_0.3.7  munsell_0.5.0      htmltools_0.5.7    sass_0.4.8        </span></span>
<span><span class="co">## [29] yaml_2.3.8         lazyeval_0.2.2     plotly_4.10.4      pillar_1.9.0      </span></span>
<span><span class="co">## [33] pkgdown_2.0.7      crayon_1.5.2       jquerylib_0.1.4    tidyr_1.3.1       </span></span>
<span><span class="co">## [37] MASS_7.3-60.0.1    cachem_1.0.8       tidyselect_1.2.0   conflicted_1.2.0  </span></span>
<span><span class="co">## [41] digest_0.6.34      stringi_1.8.3      dplyr_1.1.4        purrr_1.0.2       </span></span>
<span><span class="co">## [45] labeling_0.4.3     forcats_1.0.0      fastmap_1.1.1      grid_4.3.2        </span></span>
<span><span class="co">## [49] archive_1.1.7      colorspace_2.1-0   cli_3.6.2          magrittr_2.0.3    </span></span>
<span><span class="co">## [53] utf8_1.2.4         readr_2.1.5        withr_3.0.0        scales_1.3.0      </span></span>
<span><span class="co">## [57] bit64_4.0.5        rmarkdown_2.26     httr_1.4.7         bit_4.0.5         </span></span>
<span><span class="co">## [61] gridExtra_2.3      ragg_1.2.7         hms_1.1.3          memoise_2.0.1     </span></span>
<span><span class="co">## [65] evaluate_0.23      knitr_1.45         viridisLite_0.4.2  rlang_1.1.3       </span></span>
<span><span class="co">## [69] Rcpp_1.0.12        glue_1.7.0         vroom_1.6.5        jsonlite_1.8.8    </span></span>
<span><span class="co">## [73] R6_2.5.1           systemfonts_1.0.6  fs_1.6.3</span></span></code></pre>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Wolski2022.06.07.494524" class="csl-entry">
Wolski, Witold E., Paolo Nanni, Jonas Grossmann, Maria d’Errico, Ralph
Schlapbach, and Christian Panse. 2022. <span>“Prolfqua: A Comprehensive
<span class="nocase">R-package</span> for Proteomics Differential
Expression Analysis.”</span> <em>bioRxiv</em>. <a href="https://doi.org/10.1101/2022.06.07.494524" class="external-link">https://doi.org/10.1101/2022.06.07.494524</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Witold Wolski.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
